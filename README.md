# â˜• Coffee Shop Management System

Há»‡ thá»‘ng quáº£n lÃ½ quÃ¡n cÃ  phÃª hoÃ n chá»‰nh sá»­ dá»¥ng kiáº¿n trÃºc microservices vá»›i ReactJS frontend vÃ  Express.js backend.

## ðŸ—ï¸ Kiáº¿n trÃºc Há»‡ thá»‘ng

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Frontend (React + Vite)                 â”‚
â”‚                      Port 5173                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 API Gateway                                 â”‚
â”‚                   Port 3000                                â”‚
â”‚            (Authentication, Rate Limiting)                 â”‚
â””â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  â”‚     â”‚     â”‚     â”‚     â”‚     â”‚     â”‚
  â–¼     â–¼     â–¼     â–¼     â–¼     â–¼     â–¼
â”Œâ”€â”€â”€â” â”Œâ”€â”€â”€â” â”Œâ”€â”€â”€â” â”Œâ”€â”€â”€â” â”Œâ”€â”€â”€â” â”Œâ”€â”€â”€â” â”Œâ”€â”€â”€â”
â”‚ U â”‚ â”‚ M â”‚ â”‚ T â”‚ â”‚ B â”‚ â”‚ O â”‚ â”‚ V â”‚ â”‚ I â”‚
â”‚ s â”‚ â”‚ e â”‚ â”‚ a â”‚ â”‚ i â”‚ â”‚ n â”‚ â”‚ o â”‚ â”‚ n â”‚
â”‚ e â”‚ â”‚ n â”‚ â”‚ b â”‚ â”‚ l â”‚ â”‚ l â”‚ â”‚ u â”‚ â”‚ v â”‚
â”‚ r â”‚ â”‚ u â”‚ â”‚ l â”‚ â”‚ l â”‚ â”‚ i â”‚ â”‚ c â”‚ â”‚ e â”‚
â”‚   â”‚ â”‚   â”‚ â”‚ e â”‚ â”‚ i â”‚ â”‚ n â”‚ â”‚ h â”‚ â”‚ n â”‚
â”‚ 3 â”‚ â”‚ 3 â”‚ â”‚ 3 â”‚ â”‚ 3 â”‚ â”‚ e â”‚ â”‚ e â”‚ â”‚ t â”‚
â”‚ 0 â”‚ â”‚ 0 â”‚ â”‚ 0 â”‚ â”‚ 0 â”‚ â”‚ 3 â”‚ â”‚ 3 â”‚ â”‚ 3 â”‚
â”‚ 0 â”‚ â”‚ 0 â”‚ â”‚ 0 â”‚ â”‚ 0 â”‚ â”‚ 0 â”‚ â”‚ 0 â”‚ â”‚ 0 â”‚
â”‚ 1 â”‚ â”‚ 2 â”‚ â”‚ 3 â”‚ â”‚ 4 â”‚ â”‚ 5 â”‚ â”‚ 6 â”‚ â”‚ 7 â”‚
â””â”€â”€â”€â”˜ â””â”€â”€â”€â”˜ â””â”€â”€â”€â”˜ â””â”€â”€â”€â”˜ â””â”€â”€â”€â”˜ â””â”€â”€â”€â”˜ â””â”€â”€â”€â”˜
```

## ðŸš€ TÃ­nh nÄƒng chÃ­nh

### ðŸ‘¥ Quáº£n lÃ½ KhÃ¡ch hÃ ng & NhÃ¢n viÃªn
- ÄÄƒng kÃ½, Ä‘Äƒng nháº­p vá»›i JWT authentication
- PhÃ¢n quyá»n theo vai trÃ² (Admin, Manager, Staff, Customer)
- Quáº£n lÃ½ thÃ´ng tin cÃ¡ nhÃ¢n vÃ  lá»‹ch sá»­

### ðŸ½ï¸ Quáº£n lÃ½ Thá»±c Ä‘Æ¡n
- CRUD menu items vá»›i categories
- Upload hÃ¬nh áº£nh mÃ³n Äƒn
- Quáº£n lÃ½ giÃ¡ cáº£ vÃ  tÃ¬nh tráº¡ng mÃ³n

### ðŸª‘ Quáº£n lÃ½ BÃ n & Äáº·t bÃ n
- Quáº£n lÃ½ bÃ n theo khu vá»±c vá»›i media (hÃ¬nh áº£nh, video)
- Äáº·t bÃ n online vá»›i kiá»ƒm tra tÃ¬nh tráº¡ng real-time
- Theo dÃµi tráº¡ng thÃ¡i bÃ n vÃ  lá»‹ch Ä‘áº·t

### ðŸ›’ Äáº·t hÃ ng Online
- Giá» hÃ ng cho khÃ¡ch vÃ£ng lai (session-based)
- Äáº·t hÃ ng online vá»›i thÃ´ng tin giao hÃ ng
- Theo dÃµi Ä‘Æ¡n hÃ ng real-time

### ðŸŽ« Há»‡ thá»‘ng Voucher
- Táº¡o vÃ  quáº£n lÃ½ voucher khuyáº¿n mÃ£i
- Giáº£m giÃ¡ theo tiá»n máº·t hoáº·c pháº§n trÄƒm
- PhÃ¢n loáº¡i khÃ¡ch hÃ ng vÃ  Ä‘iá»u kiá»‡n sá»­ dá»¥ng

### ðŸ“¦ Quáº£n lÃ½ Kho
- Theo dÃµi nguyÃªn liá»‡u vÃ  tá»“n kho
- Cáº£nh bÃ¡o háº¿t hÃ ng vÃ  háº¿t háº¡n
- Quáº£n lÃ½ nháº­p/xuáº¥t kho vá»›i audit trail

### ðŸ’° Thanh toÃ¡n & HÃ³a Ä‘Æ¡n
- Táº¡o hÃ³a Ä‘Æ¡n cho Ä‘Æ¡n hÃ ng táº¡i chá»— vÃ  online
- Há»— trá»£ nhiá»u phÆ°Æ¡ng thá»©c thanh toÃ¡n
- BÃ¡o cÃ¡o doanh thu vÃ  thá»‘ng kÃª

## ðŸ› ï¸ CÃ´ng nghá»‡ sá»­ dá»¥ng

### Frontend
- **React 18** vá»›i **Vite** - Modern build tool
- **TailwindCSS** - Utility-first CSS framework
- **Zustand** - State management vá»›i persistence
- **React Hook Form** - Form handling
- **React Router DOM** - Client-side routing
- **Axios** - HTTP client vá»›i interceptors

### Backend
- **Node.js** vá»›i **Express.js** - Web framework
- **MySQL** vá»›i **Sequelize ORM** - Database
- **JWT** - Authentication & authorization
- **Bcrypt** - Password hashing
- **Multer** - File upload handling
- **CORS** - Cross-origin resource sharing

### DevOps
- **Docker** & **Docker Compose** - Containerization
- **PM2** - Process management
- **Morgan** - HTTP request logging
- **Helmet** - Security headers

## ðŸ“‹ YÃªu cáº§u há»‡ thá»‘ng

- **Node.js** >= 16.0.0
- **MySQL** >= 8.0
- **npm** >= 8.0.0
- **Git** >= 2.0

## ðŸš€ CÃ i Ä‘áº·t vÃ  Cháº¡y

> **âš¡ Khá»Ÿi Ä‘á»™ng nhanh**: Xem [QUICK_START.md](./QUICK_START.md) Ä‘á»ƒ setup trong 5 phÃºt!

### 1. Clone Repository
```bash
git clone <repository-url>
cd Coffee-Shop
```

### 2. CÃ i Ä‘áº·t Dependencies
```bash
# CÃ i Ä‘áº·t táº¥t cáº£ dependencies cho cÃ¡c services
./scripts/install-all-dependencies.bat

# Hoáº·c cÃ i Ä‘áº·t thá»§ cÃ´ng cho tá»«ng service
cd api-gateway && npm install
cd services/user-service && npm install
cd services/menu-service && npm install
cd services/table-service && npm install
cd services/billing-service && npm install
cd services/online-order-service && npm install
cd services/voucher-service && npm install
cd services/inventory-service && npm install
cd front-end && npm install
```

### 3. Cáº¥u hÃ¬nh Database
```bash
# Táº¡o database vÃ  import schema
mysql -u root -p < QuanLyCaFe.sql

# Táº¡o admin user
mysql -u root -p QuanLyCafe < create-admin-user.sql

# Seed sample data (optional)
mysql -u root -p QuanLyCafe < scripts/seed-sample-data.sql
```

### 4. Cáº¥u hÃ¬nh Environment
Táº¡o file `.env` cho má»—i service dá»±a trÃªn `.env.example`:
```bash
# API Gateway
cp api-gateway/.env.example api-gateway/.env

# CÃ¡c services
cp services/user-service/.env.example services/user-service/.env
# ... tÆ°Æ¡ng tá»± cho cÃ¡c services khÃ¡c
```

### 5. Khá»Ÿi Ä‘á»™ng Há»‡ thá»‘ng
```bash
# Sá»­ dá»¥ng script tá»± Ä‘á»™ng
./scripts/start-all-services.bat

# Hoáº·c khá»Ÿi Ä‘á»™ng thá»§ cÃ´ng tá»«ng service
cd api-gateway && npm run dev
cd services/user-service && npm run dev
# ... tÆ°Æ¡ng tá»± cho cÃ¡c services khÃ¡c
cd front-end && npm run dev
```

### 6. Sá»­ dá»¥ng Docker (Alternative)
```bash
# Khá»Ÿi Ä‘á»™ng táº¥t cáº£ services vá»›i Docker
docker-compose up -d

# Dá»«ng services
docker-compose down
```

## ðŸ“š API Documentation

**ðŸ“– Chi tiáº¿t Ä‘áº§y Ä‘á»§**: Xem [API_DOCUMENTATION.md](./API_DOCUMENTATION.md)

### Endpoints chÃ­nh
- **Authentication**: `/api/auth/*` - ÄÄƒng nháº­p, Ä‘Äƒng kÃ½, profile
- **Menu**: `/api/menu`, `/api/categories` - Quáº£n lÃ½ thá»±c Ä‘Æ¡n
- **Tables**: `/api/tables`, `/api/reservations` - Quáº£n lÃ½ bÃ n & Ä‘áº·t bÃ n  
- **Orders**: `/api/cart/*`, `/api/online-orders` - Äáº·t hÃ ng online
- **Vouchers**: `/api/vouchers/*` - Quáº£n lÃ½ voucher
- **Inventory**: `/api/inventory/*` - Quáº£n lÃ½ kho (Staff only)
- **Billing**: `/api/billing/*` - HÃ³a Ä‘Æ¡n & thanh toÃ¡n (Staff only)

## ðŸ—„ï¸ Database Schema

### Báº£ng chÃ­nh
- **NhanVien** - ThÃ´ng tin nhÃ¢n viÃªn
- **KhachHang** - ThÃ´ng tin khÃ¡ch hÃ ng
- **KhuVuc** - Khu vá»±c trong quÃ¡n
- **Ban** - BÃ n Äƒn
- **LoaiMon** - Danh má»¥c mÃ³n Äƒn
- **Mon** - MÃ³n Äƒn
- **DatBan** - Äáº·t bÃ n
- **Orders** - ÄÆ¡n hÃ ng táº¡i chá»—
- **DonHangOnline** - ÄÆ¡n hÃ ng online
- **GioHang** - Giá» hÃ ng
- **Voucher** - Voucher khuyáº¿n mÃ£i
- **Kho** - Kho nguyÃªn liá»‡u
- **ThanhToan** - Thanh toÃ¡n

### Quy Æ°á»›c Ä‘áº·t tÃªn (Vietnamese Schema)
- `Ma[Entity]`: Primary Key (MaNV, MaKH, MaMon...)
- `Ten[Entity]`: Name fields (TenNV, TenKH, TenMon...)
- `TrangThai`: Status fields
- `NgayTao`, `NgayCapNhat`: Timestamp fields

## ðŸ” Báº£o máº­t

- **JWT Authentication** vá»›i refresh tokens
- **Role-based Access Control** (RBAC)
- **Rate Limiting** (100 requests/15 minutes)
- **Password Hashing** vá»›i bcrypt
- **Input Validation** vÃ  sanitization
- **CORS Configuration** cho frontend
- **Security Headers** vá»›i Helmet.js

## ðŸ“Š Monitoring & Health Checks

```bash
# Kiá»ƒm tra health táº¥t cáº£ services
curl http://localhost:3000/health

# Kiá»ƒm tra tá»«ng service
curl http://localhost:3001/health  # User Service
curl http://localhost:3002/health  # Menu Service
curl http://localhost:3003/health  # Table Service
curl http://localhost:3004/health  # Billing Service
curl http://localhost:3005/health  # Online Order Service
curl http://localhost:3006/health  # Voucher Service
curl http://localhost:3007/health  # Inventory Service
```

## ðŸ§ª Testing

```bash
# Cháº¡y test suite cho táº¥t cáº£ services
cd scripts
node test-new-services.js

# Test tá»«ng service riÃªng láº»
cd services/user-service && npm test
```

## ðŸ“ Cáº¥u trÃºc Project

```
Coffee-Shop/
â”œâ”€â”€ api-gateway/              # API Gateway (Port 3000)
â”œâ”€â”€ services/
â”‚   â”œâ”€â”€ user-service/         # User & Auth (Port 3001)
â”‚   â”œâ”€â”€ menu-service/         # Menu & Categories (Port 3002)
â”‚   â”œâ”€â”€ table-service/        # Tables & Reservations (Port 3003)
â”‚   â”œâ”€â”€ billing-service/      # Billing & Payments (Port 3004)
â”‚   â”œâ”€â”€ online-order-service/ # Online Orders (Port 3005)
â”‚   â”œâ”€â”€ voucher-service/      # Vouchers (Port 3006)
â”‚   â””â”€â”€ inventory-service/    # Inventory (Port 3007)
â”œâ”€â”€ front-end/                # React Frontend (Port 5173)
â”œâ”€â”€ scripts/                  # Utility scripts
â”œâ”€â”€ QuanLyCaFe.sql           # Database schema
â”œâ”€â”€ docker-compose.yml        # Docker configuration
â””â”€â”€ README.md                # This file
```

## ðŸš€ Production Deployment

### Docker Deployment
```bash
# Build vÃ  deploy vá»›i Docker
docker-compose -f docker-compose.prod.yml up -d
```

### Manual Deployment
```bash
# Build frontend
cd front-end && npm run build

# Start services vá»›i PM2
pm2 start ecosystem.config.js
```

## ðŸ¤ Contributing

1. Fork the repository
2. Create feature branch (`git checkout -b feature/AmazingFeature`)
3. Commit changes (`git commit -m 'Add AmazingFeature'`)
4. Push to branch (`git push origin feature/AmazingFeature`)
5. Open Pull Request

## ðŸ“„ License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

## ðŸ“š TÃ i liá»‡u khÃ¡c

- **[ðŸ“– API Documentation](./API_DOCUMENTATION.md)** - Chi tiáº¿t táº¥t cáº£ API endpoints
- **[ðŸ“Š Project Summary](./PROJECT_SUMMARY.md)** - TÃ³m táº¯t dá»± Ã¡n vÃ  business value  
- **[âš™ï¸ Setup Guide](./SETUP_GUIDE.md)** - HÆ°á»›ng dáº«n setup chi tiáº¿t
- **[ðŸ“ Documentation Index](./DOCUMENTATION_INDEX.md)** - Chá»‰ má»¥c tÃ i liá»‡u

## ðŸ“ž Support

Náº¿u gáº·p váº¥n Ä‘á», vui lÃ²ng táº¡o issue trÃªn GitHub hoáº·c liÃªn há»‡ team phÃ¡t triá»ƒn.

---

**PhÃ¡t triá»ƒn bá»Ÿi:** Team Coffee Shop Management System  
**PhiÃªn báº£n:** 2.0.0  
**Cáº­p nháº­t cuá»‘i:** 2025-01-21
